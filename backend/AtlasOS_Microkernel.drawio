<mxfile host="app.diagrams.net" modified="2025-11-06T12:00:00.000Z" agent="AtlasOS Framework" version="22.1.0" type="device">
  <diagram name="AtlasOS - Arquitetura Microkernel" id="atlas-3i-microkernel">
    <mxGraphModel dx="2615" dy="1482" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="2000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- ================================ -->
        <!-- TÃTULO PRINCIPAL -->
        <!-- ================================ -->
        <mxCell id="title" value="AtlasOS - Arquitetura Microkernel para ExploraÃ§Ã£o do Cometa 3I/ATLAS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="100" y="30" width="1200" height="40" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CAMADA 4: APLICAÃ‡Ã•ES CIENTÃFICAS -->
        <!-- ================================ -->
        <mxCell id="layer4_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="100" y="100" width="1200" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="layer4_title" value="CAMADA 4: APLICAÃ‡Ã•ES CIENTÃFICAS (Modo UsuÃ¡rio)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="120" y="110" width="400" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="app1" value="Analisar ComposiÃ§Ã£o&lt;br&gt;(P4: Baixa)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="145" width="180" height="45" as="geometry" />
        </mxCell>
        
        <mxCell id="app2" value="Outros Apps CientÃ­ficos&lt;br&gt;(P4)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="620" y="145" width="180" height="45" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CAMADA 3: SERVIÃ‡OS DE MISSÃƒO    -->
        <!-- ================================ -->
        <mxCell id="layer3_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#d79b00;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="100" y="240" width="1200" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="layer3_title" value="CAMADA 3: SERVIÃ‡OS DE MISSÃƒO (Modo UsuÃ¡rio)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="120" y="250" width="400" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="srv1" value="Controle de Voo&lt;br&gt;(P1: CrÃ­tica - Tempo Real)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="285" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="srv2" value="NavegaÃ§Ã£o IA&lt;br&gt;(P2: Alta - Usa NPU)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="285" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="srv3" value="ComunicaÃ§Ã£o DSN&lt;br&gt;(Interface Terra)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="580" y="285" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="srv4" value="GerÃªncia Energia" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="800" y="285" width="180" height="60" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CAMADA 2: SERVIÃ‡OS ESSENCIAIS   -->
        <!-- ================================ -->
        <mxCell id="layer2_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0288d1;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="100" y="400" width="1200" height="170" as="geometry" />
        </mxCell>
        
        <mxCell id="layer2_title" value="CAMADA 2: SERVIÃ‡OS ESSENCIAIS (Modo UsuÃ¡rio)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="120" y="410" width="400" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="srv5" value="Driver CÃ¢mera&lt;br&gt;(P3)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5ff;strokeColor=#666666;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="450" width="140" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv6" value="Driver NPU&lt;br&gt;(P3)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5ff;strokeColor=#666666;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="310" y="450" width="140" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv7" value="GerÃªncia MemÃ³ria&lt;br&gt;(AlocaÃ§Ã£o)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="480" y="450" width="160" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv8" value="GerÃªncia Arquivos&lt;br&gt;(P3 - Flash)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="140" y="510" width="160" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv9" value="GerÃªncia Dispositivos&lt;br&gt;(Drivers isolados)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="330" y="510" width="180" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv10" value="Recovery Agent&lt;br&gt;(Auto-cura)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f4ea;strokeColor=#4c9a2a;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="510" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- PropulsionDriver (P3, isolado) - Camada 2.5 -->
        <mxCell id="propulsion_driver" value="PropulsionDriver&lt;br&gt;(P3, isolado)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5ff;strokeColor=#666666;dashed=1;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="510" width="110" height="50" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CAMADA 1: MICROKERNEL           -->
        <!-- ================================ -->
        <mxCell id="layer1_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;opacity=40;" vertex="1" parent="1">
          <mxGeometry x="100" y="610" width="1200" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="layer1_title" value="CAMADA 1: MICROKERNEL (Modo Kernel)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="120" y="620" width="400" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="kern1" value="Escalonador&lt;br&gt;(Preemptivo por Prioridade)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="655" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="kern2" value="IPC&lt;br&gt;(Mensagens)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="655" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="kern3" value="MMU&lt;br&gt;(ProteÃ§Ã£o/Isolamento)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="580" y="655" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="kern4" value="Tratamento IRQ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="800" y="655" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- ================================ -->
        <!-- CAMADA 0: HARDWARE              -->
        <!-- ================================ -->
        <mxCell id="layer0_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#388e3c;opacity=40;" vertex="1" parent="1">
          <mxGeometry x="100" y="770" width="1200" height="110" as="geometry" />
        </mxCell>
        
        <mxCell id="layer0_title" value="CAMADA 0: HARDWARE" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="120" y="780" width="400" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="hw1" value="CPU&lt;br&gt;(Resistente)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="140" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw2" value="NPU&lt;br&gt;(IA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="280" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw3" value="Propulsores" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="420" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw4" value="CÃ¢mera" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="560" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw5" value="Flash" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="700" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw6" value="Timer/Watchdog" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d9eaf7;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="840" y="815" width="120" height="50" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: CAMADA 4 â†” IPC        -->
        <!-- ================================ -->
        <mxCell id="arrow_app1_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.3;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="1" source="app1" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="500" y="220" />
              <mxPoint x="414" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_app2_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.7;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="1" source="app2" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="220" />
              <mxPoint x="486" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: CAMADA 3 â†” IPC        -->
        <!-- ================================ -->
        <mxCell id="arrow_srv1_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.2;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="1" source="srv1" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="230" y="390" />
              <mxPoint x="396" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv2_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;" edge="1" parent="1" source="srv2" target="kern2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow_srv3_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.8;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="1" source="srv3" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="390" />
              <mxPoint x="504" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv4_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="1" source="srv4" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="890" y="375" />
              <mxPoint x="540" y="375" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: CAMADA 2 â†” IPC        -->
        <!-- ================================ -->
        <mxCell id="arrow_srv5_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.15;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;dashed=1;curved=1;" edge="1" parent="1" source="srv5" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="210" y="600" />
              <mxPoint x="387" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv6_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.35;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;dashed=1;curved=1;" edge="1" parent="1" source="srv6" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="595" />
              <mxPoint x="423" y="595" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv7_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.65;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="1" source="srv7" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="560" y="595" />
              <mxPoint x="477" y="595" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv8_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.1;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="1" source="srv8" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="605" />
              <mxPoint x="378" y="605" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv9_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.45;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="1" source="srv9" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="600" />
              <mxPoint x="432" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv10_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.85;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="1" source="srv10" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="760" y="592" />
              <mxPoint x="513" y="592" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: PROPULSIONDRIVER â†” IPC -->
        <!-- ================================ -->
        <mxCell id="arrow_prop_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.6;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;dashed=1;curved=1;" edge="1" parent="1" source="propulsion_driver" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="615" y="598" />
              <mxPoint x="486" y="598" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES P1: CONTROLE VOOLATION PROPULSION -->
        <!-- ================================ -->
        <!-- FlightControl â†” PropulsionDriver (dupla, P1 crÃ­tica) -->
        <mxCell id="fc_to_prop" value="P1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#FF3333;strokeWidth=2;endArrow=block;" parent="1" source="srv1" target="propulsion_driver" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="320" y="510" />
              <mxPoint x="520" y="510" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="prop_to_fc" value="P1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#FF3333;strokeWidth=2;endArrow=block;" parent="1" source="propulsion_driver" target="srv1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="520" y="480" />
              <mxPoint x="320" y="480" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Telemetry: PropulsionDriver â†’ Recovery & EnergyMgmt -->
        <mxCell id="prop_to_recovery" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#888888;strokeWidth=1;dashed=1;endArrow=block;" parent="1" source="propulsion_driver" target="srv10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="535" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="prop_to_energy" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#888888;strokeWidth=1;dashed=1;endArrow=block;" parent="1" source="propulsion_driver" target="srv4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="615" y="400" />
              <mxPoint x="890" y="400" />
              <mxPoint x="890" y="345" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: MICROKERNEL â†” HARDWARE -->
        <!-- ================================ -->
        <mxCell id="arrow_kern1_cpu" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="kern1" target="hw1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow_kern3_cpu" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#999999;" edge="1" parent="1" source="kern3" target="hw1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="745" />
              <mxPoint x="195" y="745" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_kern4_watchdog" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="kern4" target="hw6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: DRIVERS â†” HARDWARE    -->
        <!-- ================================ -->
        <!-- IRQ: Propulsores â†’ Tratamento IRQ -->
        <mxCell id="irq_propulsion" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#FF8000;strokeWidth=2;endArrow=block;" parent="1" source="hw3" target="kern4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="475" y="745" />
              <mxPoint x="870" y="745" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Tratamento IRQ â†’ IPC -->
        <mxCell id="irq_to_ipc" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#FF8000;strokeWidth=2;endArrow=block;" parent="1" source="kern4" target="kern2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="870" y="725" />
              <mxPoint x="450" y="725" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Camera Driver â†” Hardware -->
        <mxCell id="arrow_srv5_camera" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;dashed=1;" edge="1" parent="1" source="srv5" target="hw4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="210" y="750" />
              <mxPoint x="615" y="750" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- NPU Driver â†” Hardware -->
        <mxCell id="arrow_srv6_npu" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;dashed=1;" edge="1" parent="1" source="srv6" target="hw2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="755" />
              <mxPoint x="335" y="755" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- FileSystem â†” Flash -->
        <mxCell id="arrow_srv8_flash" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;" edge="1" parent="1" source="srv8" target="hw5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="760" />
              <mxPoint x="755" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- RECOVERY AGENT â†” DRIVERS        -->
        <!-- ================================ -->
        <mxCell id="arrow_recovery_driver" value="" style="endArrow=classic;html=1;rounded=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;strokeColor=#4c9a2a;curved=1;" edge="1" parent="1" source="srv10" target="srv5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="535" />
              <mxPoint x="280" y="475" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- LEGENDA                         -->
        <!-- ================================ -->
        <mxCell id="legend_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="100" y="920" width="600" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_title" value="LEGENDA" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="120" y="930" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_text" value="â€¢ Vermelho (P1): CrÃ­tico - Tempo Real (Controle de Voo)&lt;br&gt;â€¢ Amarelo (P2): Alta - NavegaÃ§Ã£o IA com NPU&lt;br&gt;â€¢ Roxo (P4): Baixa - AplicaÃ§Ãµes CientÃ­ficas&lt;br&gt;â€¢ Tracejado: Drivers isolados (podem falhar sem derrubar kernel)&lt;br&gt;â€¢ Laranja: Setas IPC conectam TODOS os processos ao hub central&lt;br&gt;â€¢ Verde: Recovery Agent (auto-cura)&lt;br&gt;&lt;br&gt;ComunicaÃ§Ã£o:&lt;br&gt;  â€” Setas laranja: IPC â†” Processos usuÃ¡rio&lt;br&gt;  â€” Setas pretas: Kernel â†” Hardware&lt;br&gt;  â€” Setas cinza tracejadas: Drivers â†” Hardware (via kernel)&lt;br&gt;  â€” Setas curvas: Evitam sobreposiÃ§Ã£o visual" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="120" y="955" width="560" height="155" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- JUSTIFICATIVA                   -->
        <!-- ================================ -->
        <mxCell id="just_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;" vertex="1" parent="1">
          <mxGeometry x="750" y="920" width="550" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="just_title" value="JUSTIFICATIVA DO MICROKERNEL" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="770" y="930" width="300" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="just_text" value="âœ“ Isolar drivers e serviÃ§os fora do nÃºcleo&lt;br&gt;âœ“ Falhas no Modo UsuÃ¡rio NÃƒO derrubam o Modo Kernel&lt;br&gt;âœ“ Recovery Agent detecta e reinicia processos (auto-cura)&lt;br&gt;âœ“ IPC como Ãºnico mecanismo de comunicaÃ§Ã£o (seguranÃ§a)&lt;br&gt;âœ“ Escalonador preemptivo por prioridade (P1 primeiro)&lt;br&gt;âœ“ MMU garante isolamento de memÃ³ria&lt;br&gt;&lt;br&gt;Boot: POST â†’ Bootloader â†’ Microkernel â†’ Camada 2 â†’ Camada 3&lt;br&gt;&lt;br&gt;MitigaÃ§Ã£o Priority Inversion: Priority Inheritance&lt;br&gt;&lt;br&gt;ðŸš€ MISSÃƒO CRÃTICA: ExploraÃ§Ã£o do cometa 3I/ATLAS&lt;br&gt;Sem possibilidade de reinÃ­cio manual a milhÃµes de km!" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="770" y="955" width="510" height="155" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- EXEMPLO: FLUXO DE INTERRUPÃ‡ÃƒO   -->
        <!-- ================================ -->
        <mxCell id="flow_title" value="EXEMPLO: FLUXO DE INTERRUPÃ‡ÃƒO (CÃ¢mera)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="100" y="1160" width="400" height="25" as="geometry" />
        </mxCell>

        <!-- Passo 1: CÃ¢mera gera IRQ -->
        <mxCell id="flow1" value="1. CÃ¢mera gera IRQ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="1200" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 2: Kernel (Ãºnico receptor) -->
        <mxCell id="flow2" value="2. Kernel (Ãºnico receptor)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="1255" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 3: Kernel â†’ msg IPC -->
        <mxCell id="flow3" value="3. Kernel â†’ msg IPC" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="100" y="1310" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 4: IPC â†’ driver_camera -->
        <mxCell id="flow4" value="4. IPC â†’ driver_camera" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="360" y="1200" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 5: driver processa e envia msg -->
        <mxCell id="flow5" value="5. driver processa e envia msg" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="360" y="1255" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 6: IPC â†’ servidor_arquivos -->
        <mxCell id="flow6" value="6. IPC â†’ servidor_arquivos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="360" y="1310" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 7: Salva no Flash -->
        <mxCell id="flow7" value="7. Salva no Flash (assÃ­ncrono)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="1">
          <mxGeometry x="620" y="1200" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Setas conectando o fluxo -->
        <mxCell id="arrow_flow1_2" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="flow1" target="flow2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow2_3" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="flow2" target="flow3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow1_4" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="flow1" target="flow4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow4_5" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="flow4" target="flow5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow5_6" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="flow5" target="flow6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow4_7" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="flow4" target="flow7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
        
  <mxCell id="layer4_title" value="CAMADA 4: APLICAÃ‡Ã•ES CIENTÃFICAS (Modo UsuÃ¡rio)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="root_1">
          <mxGeometry x="120" y="110" width="400" height="25" as="geometry" />
        </mxCell>
        
  <mxCell id="app1" value="Analisar ComposiÃ§Ã£o&lt;br&gt;(P4: Baixa)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;" vertex="1" parent="root_1">
          <mxGeometry x="400" y="145" width="180" height="45" as="geometry" />
        </mxCell>
        
  <mxCell id="app2" value="Outros Apps CientÃ­ficos&lt;br&gt;(P4)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="root_1">
          <mxGeometry x="620" y="145" width="180" height="45" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CAMADA 3: SERVIÃ‡OS DE MISSÃƒO    -->
        <!-- ================================ -->
        <mxCell id="layer3_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#d79b00;opacity=30;" vertex="1" parent="root_1">
          <mxGeometry x="100" y="240" width="1200" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="layer3_title" value="CAMADA 3: SERVIÃ‡OS DE MISSÃƒO (Modo UsuÃ¡rio)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="root_1">
          <mxGeometry x="120" y="250" width="400" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="srv1" value="Controle de Voo&lt;br&gt;(P1: CrÃ­tica - Tempo Real)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;" vertex="1" parent="root_1">
          <mxGeometry x="140" y="285" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="srv2" value="NavegaÃ§Ã£o IA&lt;br&gt;(P2: Alta - Usa NPU)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" vertex="1" parent="root_1">
          <mxGeometry x="360" y="285" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="srv3" value="ComunicaÃ§Ã£o DSN&lt;br&gt;(Interface Terra)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="root_1">
          <mxGeometry x="580" y="285" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="srv4" value="GerÃªncia Energia" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="root_1">
          <mxGeometry x="800" y="285" width="180" height="60" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CAMADA 2: SERVIÃ‡OS ESSENCIAIS   -->
        <!-- ================================ -->
        <!-- PropulsionDriver (P3, isolado) -->
        <mxCell id="propulsion_driver" value="PropulsionDriver&lt;br&gt;(P3, isolado)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5ff;strokeColor=#666666;dashed=1;fontStyle=1;" vertex="1" parent="root_1">
          <mxGeometry x="520" y="510" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="layer2_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0288d1;opacity=30;" vertex="1" parent="root_1">
          <mxGeometry x="100" y="400" width="1200" height="170" as="geometry" />
        </mxCell>
        
        <mxCell id="layer2_title" value="CAMADA 2: SERVIÃ‡OS ESSENCIAIS (Modo UsuÃ¡rio)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="root_1">
          <mxGeometry x="120" y="410" width="400" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="srv5" value="Driver CÃ¢mera&lt;br&gt;(P3)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5ff;strokeColor=#666666;dashed=1;" vertex="1" parent="root_1">
          <mxGeometry x="140" y="450" width="140" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv6" value="Driver NPU&lt;br&gt;(P3)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5ff;strokeColor=#666666;dashed=1;" vertex="1" parent="root_1">
          <mxGeometry x="310" y="450" width="140" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv7" value="GerÃªncia MemÃ³ria&lt;br&gt;(AlocaÃ§Ã£o)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" vertex="1" parent="root_1">
          <mxGeometry x="480" y="450" width="160" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv8" value="GerÃªncia Arquivos&lt;br&gt;(P3 - Flash)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" vertex="1" parent="root_1">
          <mxGeometry x="140" y="510" width="160" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv9" value="GerÃªncia Dispositivos&lt;br&gt;(Drivers isolados)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" vertex="1" parent="root_1">
          <mxGeometry x="330" y="510" width="180" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="srv10" value="Recovery Agent&lt;br&gt;(Auto-cura)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f4ea;strokeColor=#4c9a2a;fontStyle=1;" vertex="1" parent="root_1">
          <mxGeometry x="540" y="510" width="140" height="50" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CAMADA 1: MICROKERNEL           -->
        <!-- ================================ -->
        <mxCell id="layer1_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;opacity=40;" vertex="1" parent="root_1">
          <mxGeometry x="100" y="610" width="1200" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="layer1_title" value="CAMADA 1: MICROKERNEL (Modo Kernel)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="root_1">
          <mxGeometry x="120" y="620" width="400" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="kern1" value="Escalonador&lt;br&gt;(Preemptivo por Prioridade)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;" vertex="1" parent="root_1">
          <mxGeometry x="140" y="655" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="kern2" value="IPC&lt;br&gt;(Mensagens)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;" vertex="1" parent="root_1">
          <mxGeometry x="360" y="655" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="kern3" value="MMU&lt;br&gt;(ProteÃ§Ã£o/Isolamento)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="root_1">
          <mxGeometry x="580" y="655" width="180" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="kern4" value="Tratamento IRQ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="root_1">
          <mxGeometry x="800" y="655" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- ================================ -->
        <!-- CAMADA 0: HARDWARE              -->
        <!-- ================================ -->
        <mxCell id="layer0_bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#388e3c;opacity=40;" vertex="1" parent="root_1">
          <mxGeometry x="100" y="770" width="1200" height="110" as="geometry" />
        </mxCell>
        
        <mxCell id="layer0_title" value="CAMADA 0: HARDWARE" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=13;" vertex="1" parent="root_1">
          <mxGeometry x="120" y="780" width="400" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="hw1" value="CPU&lt;br&gt;(Resistente)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="root_1">
          <mxGeometry x="140" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw2" value="NPU&lt;br&gt;(IA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="root_1">
          <mxGeometry x="280" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw3" value="Propulsores" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="root_1">
          <mxGeometry x="420" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw4" value="CÃ¢mera" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="root_1">
          <mxGeometry x="560" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw5" value="Flash" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="root_1">
          <mxGeometry x="700" y="815" width="110" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="hw6" value="Timer/Watchdog" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d9eaf7;strokeColor=#6c8ebf;" vertex="1" parent="root_1">
          <mxGeometry x="840" y="815" width="120" height="50" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: CAMADA 4 â†” IPC        -->
        <!-- ================================ -->
        <mxCell id="arrow_app1_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.3;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="root_1" source="app1" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="500" y="580" />
              <mxPoint x="414" y="580" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_app2_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.7;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="root_1" source="app2" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="750" y="580" />
              <mxPoint x="486" y="580" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: CAMADA 3 â†” IPC        -->
        <!-- ================================ -->
        <mxCell id="arrow_srv1_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.2;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="root_1" source="srv1" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="230" y="590" />
              <mxPoint x="396" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv2_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;" edge="1" parent="root_1" source="srv2" target="kern2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow_srv3_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.8;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="root_1" source="srv3" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="590" />
              <mxPoint x="504" y="590" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv4_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="root_1" source="srv4" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="890" y="575" />
              <mxPoint x="540" y="575" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: CAMADA 2 â†” IPC        -->
        <!-- ================================ -->
        <mxCell id="arrow_srv5_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.15;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;dashed=1;curved=1;" edge="1" parent="root_1" source="srv5" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="600" />
              <mxPoint x="387" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv6_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.35;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;dashed=1;curved=1;" edge="1" parent="root_1" source="srv6" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="410" y="595" />
              <mxPoint x="423" y="595" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv7_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.65;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="root_1" source="srv7" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="600" y="595" />
              <mxPoint x="477" y="595" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv8_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.1;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="root_1" source="srv8" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="605" />
              <mxPoint x="378" y="605" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv9_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="root_1" source="srv9" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="600" />
              <mxPoint x="405" y="600" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv10_ipc" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.85;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF6D00;curved=1;" edge="1" parent="root_1" source="srv10" target="kern2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="592" />
              <mxPoint x="513" y="592" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: MICROKERNEL â†” HARDWARE -->
        <!-- ================================ -->
        <mxCell id="arrow_kern1_cpu" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="root_1" source="kern1" target="hw1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow_kern3_cpu" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#999999;" edge="1" parent="root_1" source="kern3" target="hw1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="670" y="745" />
              <mxPoint x="195" y="745" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_kern4_watchdog" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="root_1" source="kern4" target="hw6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- CONEXÃ•ES: DRIVERS â†” HARDWARE    -->
        <!-- ================================ -->
        <!-- IRQ: Propulsores â†’ Tratamento IRQ (sÃ³lido, laranja, label IRQ) -->
        <mxCell id="irq_propulsion" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#FF8000;strokeWidth=2;endArrow=block;" parent="root_1" source="hw3" target="kern4" edge="1">
          <mxGeometry relative="1" as="geometry" />
          <mxCell id="irq_label_prop" value="IRQ" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontSize=12;" vertex="1" parent="irq_propulsion">
            <mxGeometry x="0.5" y="0.5" width="40" height="20" as="geometry" />
          </mxCell>
        </mxCell>
        <!-- Tratamento IRQ â†’ IPC (sÃ³lido, laranja, label IRQâ†’IPC) -->
        <mxCell id="irq_to_ipc" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#FF8000;strokeWidth=2;endArrow=block;" parent="root_1" source="kern4" target="kern2" edge="1">
          <mxGeometry relative="1" as="geometry" />
          <mxCell id="irq2ipc_label_prop" value="IRQ â†’ IPC" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontSize=12;" vertex="1" parent="irq_to_ipc">
            <mxGeometry x="0.5" y="0.5" width="60" height="20" as="geometry" />
          </mxCell>
        </mxCell>
        <!-- IPC â†’ PropulsionDriver (tracejado, label cmd/telemetry) -->
        <mxCell id="ipc_to_propulsion" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#666666;dashed=1;strokeWidth=2;endArrow=block;" parent="root_1" source="kern2" target="propulsion_driver" edge="1">
          <mxGeometry relative="1" as="geometry" />
          <mxCell id="ipc2prop_label_prop" value="cmd / telemetry" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontSize=12;" vertex="1" parent="ipc_to_propulsion">
            <mxGeometry x="0.5" y="0.5" width="80" height="20" as="geometry" />
          </mxCell>
        </mxCell>
        <!-- FlightControl â†” PropulsionDriver (dupla, vermelho, P1) -->
        <mxCell id="fc_to_prop" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#FF3333;strokeWidth=2;endArrow=block;" parent="root_1" source="srv1" target="propulsion_driver" edge="1">
          <mxGeometry relative="1" as="geometry" />
          <mxCell id="fc2prop_label_prop" value="P1" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontSize=12;" vertex="1" parent="fc_to_prop">
            <mxGeometry x="0.5" y="0.5" width="20" height="20" as="geometry" />
          </mxCell>
        </mxCell>
        <mxCell id="prop_to_fc" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#FF3333;strokeWidth=2;endArrow=block;" parent="root_1" source="propulsion_driver" target="srv1" edge="1">
          <mxGeometry relative="1" as="geometry" />
          <mxCell id="prop2fc_label_prop" value="P1" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontSize=12;" vertex="1" parent="prop_to_fc">
            <mxGeometry x="0.5" y="0.5" width="20" height="20" as="geometry" />
          </mxCell>
        </mxCell>
        <!-- Telemetry/heartbeat: PropulsionDriver â†’ RecoveryAgent (fina, cinza) -->
        <mxCell id="prop_to_recovery" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#888888;strokeWidth=1;dashed=1;endArrow=block;" parent="root_1" source="propulsion_driver" target="srv10" edge="1">
          <mxGeometry relative="1" as="geometry" />
          <mxCell id="prop2rec_label_prop" value="telemetry/heartbeat" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="prop_to_recovery">
            <mxGeometry x="0.5" y="0.5" width="80" height="20" as="geometry" />
          </mxCell>
        </mxCell>
        <!-- Telemetry/heartbeat: PropulsionDriver â†’ GerÃªncia Energia (fina, cinza) -->
        <mxCell id="prop_to_energy" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#888888;strokeWidth=1;dashed=1;endArrow=block;" parent="root_1" source="propulsion_driver" target="srv4" edge="1">
          <mxGeometry relative="1" as="geometry" />
          <mxCell id="prop2energy_label_prop" value="telemetry/heartbeat" style="text;html=1;align=center;verticalAlign=middle;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="prop_to_energy">
            <mxGeometry x="0.5" y="0.5" width="80" height="20" as="geometry" />
          </mxCell>
        </mxCell>
        <mxCell id="arrow_srv5_camera" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;dashed=1;" edge="1" parent="root_1" source="srv5" target="hw4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="750" />
              <mxPoint x="615" y="750" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv6_npu" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;dashed=1;" edge="1" parent="root_1" source="srv6" target="hw2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="410" y="755" />
              <mxPoint x="335" y="755" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="arrow_srv8_flash" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#666666;" edge="1" parent="root_1" source="srv8" target="hw5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="760" />
              <mxPoint x="755" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ================================ -->
        <!-- RECOVERY AGENT â†” DRIVERS        -->
        <!-- ================================ -->
        <mxCell id="arrow_recovery_driver" value="" style="endArrow=classic;html=1;rounded=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;strokeColor=#4c9a2a;curved=1;" edge="1" parent="root_1" source="srv10" target="srv5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="520" y="535" />
              <mxPoint x="320" y="475" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="recovery_label_unique" value="reinicia" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#4c9a2a;" vertex="1" parent="root_1">
          <mxGeometry x="340" y="490" width="60" height="20" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- LEGENDA                         -->
        <!-- ================================ -->
        <!-- PropulsionDriver (P1 commands via FlightControl, P3 driver isolado) -->
        <mxCell id="legend_propulsion_unique" value="PropulsionDriver (P1 commands via FlightControl, P3 driver isolado)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;" parent="root_1" vertex="1">
          <mxGeometry x="120" y="1120" width="440" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" vertex="1" parent="root_1">
          <mxGeometry x="100" y="920" width="600" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_title_unique" value="LEGENDA" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;" vertex="1" parent="root_1">
          <mxGeometry x="120" y="930" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend_text_unique" value="â€¢ Vermelho (P1): CrÃ­tico - Tempo Real (Controle de Voo)&lt;br&gt;â€¢ Amarelo (P2): Alta - NavegaÃ§Ã£o IA com NPU&lt;br&gt;â€¢ Roxo (P4): Baixa - AplicaÃ§Ãµes CientÃ­ficas&lt;br&gt;â€¢ Tracejado: Drivers isolados (podem falhar sem derrubar kernel)&lt;br&gt;â€¢ Laranja: Setas IPC conectam TODOS os processos ao hub central&lt;br&gt;â€¢ Verde: Recovery Agent (auto-cura)&lt;br&gt;&lt;br&gt;ComunicaÃ§Ã£o:&lt;br&gt;  â€” Setas laranja: IPC â†” Processos usuÃ¡rio&lt;br&gt;  â€” Setas pretas: Kernel â†” Hardware&lt;br&gt;  â€” Setas cinza tracejadas: Drivers â†” Hardware (via kernel)&lt;br&gt;  â€” Setas curvas: Evitam sobreposiÃ§Ã£o visual" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="root_1">
          <mxGeometry x="120" y="955" width="560" height="155" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- JUSTIFICATIVA                   -->
        <!-- ================================ -->
        <mxCell id="just_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#e65100;" vertex="1" parent="root_1">
          <mxGeometry x="750" y="920" width="550" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="just_title_unique" value="JUSTIFICATIVA DO MICROKERNEL" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=12;" vertex="1" parent="root_1">
          <mxGeometry x="770" y="930" width="300" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="just_text_unique" value="âœ“ Isolar drivers e serviÃ§os fora do nÃºcleo&lt;br&gt;âœ“ Falhas no Modo UsuÃ¡rio NÃƒO derrubam o Modo Kernel&lt;br&gt;âœ“ Recovery Agent detecta e reinicia processos (auto-cura)&lt;br&gt;âœ“ IPC como Ãºnico mecanismo de comunicaÃ§Ã£o (seguranÃ§a)&lt;br&gt;âœ“ Escalonador preemptivo por prioridade (P1 primeiro)&lt;br&gt;âœ“ MMU garante isolamento de memÃ³ria&lt;br&gt;&lt;br&gt;Boot: POST â†’ Bootloader â†’ Microkernel â†’ Camada 2 â†’ Camada 3&lt;br&gt;&lt;br&gt;MitigaÃ§Ã£o Priority Inversion: Priority Inheritance&lt;br&gt;&lt;br&gt;ðŸš€ MISSÃƒO CRÃTICA: ExploraÃ§Ã£o do cometa 3I/ATLAS&lt;br&gt;Sem possibilidade de reinÃ­cio manual a milhÃµes de km!" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="root_1">
          <mxGeometry x="770" y="955" width="510" height="155" as="geometry" />
        </mxCell>

        <!-- ================================ -->
        <!-- EXEMPLO: FLUXO DE INTERRUPÃ‡ÃƒO   -->
        <!-- ================================ -->
        <mxCell id="flow_title_unique" value="EXEMPLO: FLUXO DE INTERRUPÃ‡ÃƒO (CÃ¢mera)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" vertex="1" parent="root_1">
          <mxGeometry x="100" y="1160" width="400" height="25" as="geometry" />
        </mxCell>

        <!-- Passo 1: CÃ¢mera gera IRQ -->
        <mxCell id="flow1" value="1. CÃ¢mera gera IRQ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="root_1">
          <mxGeometry x="100" y="1200" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 2: Kernel (Ãºnico receptor) -->
        <mxCell id="flow2" value="2. Kernel (Ãºnico receptor)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="root_1">
          <mxGeometry x="100" y="1255" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 3: Kernel â†’ msg IPC -->
        <mxCell id="flow3" value="3. Kernel â†’ msg IPC" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="root_1">
          <mxGeometry x="100" y="1310" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 4: IPC â†’ driver_camera -->
        <mxCell id="flow4" value="4. IPC â†’ driver_camera" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="root_1">
          <mxGeometry x="360" y="1200" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 5: driver processa e envia msg -->
        <mxCell id="flow5" value="5. driver processa e envia msg" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="root_1">
          <mxGeometry x="360" y="1255" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 6: IPC â†’ servidor_arquivos -->
        <mxCell id="flow6" value="6. IPC â†’ servidor_arquivos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="root_1">
          <mxGeometry x="360" y="1310" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Passo 7: Salva no Flash -->
        <mxCell id="flow7" value="7. Salva no Flash (assÃ­ncrono)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;spacingLeft=8;fontStyle=0;" vertex="1" parent="root_1">
          <mxGeometry x="620" y="1200" width="220" height="40" as="geometry" />
        </mxCell>

        <!-- Setas conectando o fluxo -->
        <mxCell id="arrow_flow1_2" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="root_1" source="flow1" target="flow2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow2_3" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="root_1" source="flow2" target="flow3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow1_4" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="root_1" source="flow1" target="flow4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow4_5" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="root_1" source="flow4" target="flow5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow5_6" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="root_1" source="flow5" target="flow6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="arrow_flow4_7" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="root_1" source="flow4" target="flow7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>